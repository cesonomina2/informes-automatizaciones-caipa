<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informe Verificaci√≥n L√≠neas | SaberBot Casalimpia</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;500;700&family=Roboto:wght@400;500;700&display=swap');

        :root {
            /* Colores Corporativos */
            --color-azul-logo: #0085CA; 
            --color-verde-logo: #8DC63F; 
            --color-gris-texto: #334155;
            --color-gris-claro: #64748B;
            --color-blanco: #ffffff;
            --bg-oscuro: #E2E8F0;
            --sombra-card: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            
            /* Estados */
            --color-exito: #22c55e;
            --color-error: #ef4444;
            --color-alerta: #f59e0b;
            --color-info: #3b82f6; 
            --color-costo: #8b5cf6;
            --color-costo-humano: #c2410c; 
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bg-oscuro);
            color: var(--color-gris-texto);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* --- HEADER --- */
        header {
            background-color: var(--color-blanco);
            padding: 0.8rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            border-bottom: 4px solid var(--color-azul-logo);
            position: sticky;
            top: 0;
            z-index: 100;
            flex-wrap: wrap;
            gap: 15px;
        }

        .header-left { display: flex; align-items: center; gap: 15px; flex-wrap: wrap; }

        .btn-volver {
            text-decoration: none;
            color: var(--color-azul-logo);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 10px 15px;
            border-radius: 8px;
            background: #f1f5f9;
            transition: all 0.2s;
            font-family: 'Outfit', sans-serif;
            font-size: 0.9rem;
        }
        .btn-volver:hover { background-color: #e2e8f0; }

        .page-title {
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            color: var(--color-gris-texto);
            font-size: 1.1rem;
        }

        /* --- CONTAINER --- */
        .dashboard-container {
            max-width: 1200px;
            margin: 1.5rem auto;
            padding: 0 15px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .section-title {
            font-family: 'Outfit', sans-serif;
            font-size: 1.1rem;
            color: var(--color-azul-logo);
            margin-bottom: 1rem;
            border-left: 4px solid var(--color-verde-logo);
            padding-left: 10px;
        }

        /* --- CONTROL SLIDER --- */
        .control-panel {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--sombra-card);
            border: 1px solid #e2e8f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            margin-bottom: 10px;
        }

        .slider-container { width: 100%; max-width: 500px; margin-top: 10px; }
        .slider-label { font-family: 'Outfit', sans-serif; font-size: 1.1rem; color: var(--color-azul-logo); font-weight: 700; margin-bottom: 5px; }
        .slider-value { font-size: 1.5rem; color: var(--color-verde-logo); font-weight: bold; }
        input[type=range] { width: 100%; cursor: pointer; margin: 10px 0; }

        /* --- KPI GRID --- */
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 15px; }
        .kpi-card { background: white; padding: 20px; border-radius: 12px; box-shadow: var(--sombra-card); border-top: 4px solid transparent; display: flex; flex-direction: column; justify-content: space-between; }

        .kpi-card.neutral { border-top-color: var(--color-azul-logo); }
        .kpi-card.success { border-top-color: var(--color-exito); }
        .kpi-card.error { border-top-color: var(--color-error); }
        .kpi-card.info { border-top-color: var(--color-info); }
        .kpi-card.cost { border-top-color: var(--color-costo); }
        .kpi-card.green { border-top-color: var(--color-verde-logo); }
        .kpi-card.blue { border-top-color: var(--color-azul-logo); }

        .kpi-label { font-size: 0.8rem; text-transform: uppercase; color: var(--color-gris-claro); font-weight: 700; margin-bottom: 5px; }
        
        /* CORRECCI√ìN: Se agregan las clases de tama√±o que faltaban */
        .kpi-number { font-family: 'Outfit', sans-serif; font-size: 2rem; font-weight: 700; color: var(--color-gris-texto); margin: 5px 0; }
        .kpi-value { font-family: 'Outfit', sans-serif; font-size: 2rem; font-weight: 700; color: var(--color-gris-texto); margin: 5px 0; }
        
        .kpi-value-small { font-family: 'Outfit', sans-serif; font-size: 1.6rem; font-weight: 700; color: var(--color-gris-texto); margin: 5px 0; }
        .kpi-sub { font-size: 0.85rem; color: #64748B; background: #f8fafc; padding: 4px 8px; border-radius: 4px; display: inline-block; font-weight: 500; }
        .kpi-explanation { font-size: 0.75rem; color: #64748B; margin-top: 10px; border-top: 1px dashed #e2e8f0; padding-top: 10px; line-height: 1.4; }

        /* --- TIMELINE --- */
        .timeline-container { background: white; padding: 20px; border-radius: 12px; box-shadow: var(--sombra-card); display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px; text-align: center; border: 1px solid #e2e8f0; }
        .time-item { position: relative; }
        .time-item:not(:last-child)::after { content: '‚Üí'; position: absolute; right: -10px; top: 50%; transform: translateY(-50%); color: #cbd5e1; font-weight: bold; }
        .time-label { font-size: 0.75rem; text-transform: uppercase; color: #64748B; font-weight: 700; margin-bottom: 5px; }
        .time-value { font-family: 'Outfit', sans-serif; font-size: 1.3rem; font-weight: 700; color: var(--color-azul-logo); line-height: 1.2; }
        .time-date-small { font-size: 0.8rem; font-weight: 500; color: #64748B; display: block; margin-top: 2px; }
        .time-duration { color: var(--color-verde-logo); }

        /* --- BARRA PROGRESO --- */
        .progress-container { background: white; padding: 20px; border-radius: 12px; box-shadow: var(--sombra-card); }
        .progress-bar-wrapper { height: 35px; width: 100%; background-color: #e2e8f0; border-radius: 15px; overflow: hidden; display: flex; margin-top: 10px; }
        .bar-segment { display: flex; align-items: center; justify-content: center; color: white; font-size: 0.75rem; font-weight: 700; white-space: nowrap; }
        .bg-success { background-color: var(--color-exito); }
        .bg-error { background-color: var(--color-error); }

        /* --- COSTOS & ANALISIS --- */
        .cost-container { background: white; padding: 25px; border-radius: 16px; box-shadow: var(--sombra-card); margin-bottom: 20px; }
        .triple-grid { display: grid; grid-template-columns: 1fr auto 1fr auto 1fr; gap: 10px; align-items: center; margin-top: 15px; }
        .stat-box { background: #F8FAFC; padding: 15px; border-radius: 12px; text-align: center; border: 1px solid #e2e8f0; }
        .stat-box.highlight { background: #F0F9FF; border-color: #BAE6FD; }
        .stat-title-small { font-size: 0.7rem; text-transform: uppercase; color: #64748B; font-weight: 700; margin-bottom: 5px; }
        .stat-value-large { font-family: 'Outfit', sans-serif; font-size: 1.4rem; font-weight: 700; color: var(--color-azul-logo); }
        .stat-sub-small { font-size: 0.75rem; color: #64748B; }
        .separator-col { font-size: 1.5rem; color: #cbd5e1; font-weight: bold; text-align: center; }
        .text-orange { color: #D97706; }

        .comparativa-container { display: flex; justify-content: space-around; align-items: center; gap: 20px; margin-top: 20px; }
        .big-cost { text-align: center; padding: 20px; border-radius: 12px; flex: 1; }
        .big-cost.red-warn-bg { background: #FFF7ED; border: 1px solid #FFEDD5; }
        .big-cost.green-bg { background: #DCFCE7; border: 1px solid #86EFAC; }
        .amount { display: block; font-family: 'Outfit', sans-serif; font-size: 2.2rem; font-weight: 700; }
        .calc-detail { font-size: 0.65rem; color: #9A3412; margin-top: 5px; opacity: 0.9; font-family: monospace; background: rgba(255,255,255,0.5); padding: 2px 5px; border-radius: 4px; display: inline-block; }
        .calc-detail-people { font-size: 0.7rem; color: #431407; background: rgba(249, 115, 22, 0.1); padding: 2px 6px; border-radius: 4px; font-weight: bold; margin-left: 5px; }

        .capacity-item { display: flex; align-items: flex-start; gap: 15px; padding: 15px; background-color: #FFF7ED; border-left: 4px solid #F97316; border-radius: 8px; margin-bottom: 10px; }
        .capacity-icon { font-size: 1.5rem; }
        .badge-warn { background: #FFEDD5; color: #C2410C; padding: 4px 8px; border-radius: 4px; font-size: 0.75rem; font-weight: 700; margin-left: 10px;}

        .details-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .detail-card { background: white; border-radius: 12px; padding: 20px; box-shadow: var(--sombra-card); height: 100%; }
        .detail-text { font-size: 0.95rem; line-height: 1.6; color: #475569; text-align: justify; }
        .alert-box { background-color: #FFFBEB; border-left: 4px solid #F59E0B; padding: 15px; border-radius: 6px; font-size: 0.9rem; color: #92400E; margin-top: 15px; }
        .construction-box { background-color: #EFF6FF; border: 2px dashed #3B82F6; padding: 15px; border-radius: 8px; display: flex; align-items: center; gap: 15px; margin-top: 10px; }
        .construction-icon { font-size: 1.8rem; }
        .construction-text { color: #1E40AF; font-weight: 600; font-size: 0.9rem; line-height: 1.4; }

        .btn-drive { display: block; width: 100%; padding: 15px; background-color: var(--color-azul-logo); color: white; text-align: center; text-decoration: none; border-radius: 8px; font-weight: 700; text-transform: uppercase; font-size: 0.95rem; letter-spacing: 0.5px; transition: background-color 0.2s; margin-top: 10px; }
        .btn-drive:hover { background-color: #006090; }

        @media (max-width: 768px) {
            header { justify-content: center; padding: 1rem; }
            .header-left { justify-content: center; text-align: center; width: 100%; }
            .logo-img { display: none; }
            .timeline-container { grid-template-columns: 1fr 1fr; gap: 10px; }
            .time-item:not(:last-child)::after { content: none; }
            .details-grid { grid-template-columns: 1fr; } 
            .bar-segment { font-size: 0.65rem; }
            .construction-box { flex-direction: column; text-align: center; }
            .page-title { margin-top: 10px; display: block; width: 100%; text-align: center; }
            .triple-grid { grid-template-columns: 1fr; gap: 5px; }
            .separator-col { transform: rotate(90deg); margin: 5px 0; }
            .comparativa-container { flex-direction: column; }
            .big-cost { width: 100%; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-left">
            <a href="index.html" class="btn-volver">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
                Volver
            </a>
            <div class="page-title">Informe Preliminar Verificaci√≥n L√≠neas</div>
        </div>
        <img src="https://empresas.casalimpia.com/wp-content/uploads/2024/08/logo-casa-limpia.png" alt="Logo" style="height: 35px;">
    </header>

    <div class="dashboard-container">

        <div class="control-panel">
            <div class="slider-label">Simulador de Tiempo de Gesti√≥n Humana</div>
            <p style="font-size: 0.9rem; color: #64748B;">¬øCu√°nto tarda una persona en gestionar 1 registro manualmente?</p>
            
            <div class="slider-container">
                <input type="range" id="timeSlider" min="2" max="10" value="8" step="0.5" oninput="updateDashboard(this.value)">
                <div class="slider-value"><span id="minutesDisplay">8</span> minutos</div>
            </div>
        </div>

        <section>
            <h2 class="section-title">Resumen de Ejecuci√≥n (Estimado)</h2>
            <div class="kpi-grid">
                <div class="kpi-card green">
                    <div class="kpi-label">Ahorro Tiempo vs Humano</div>
                    <div class="kpi-value"><span id="kpi-time-percent">99</span>%</div>
                    <div class="kpi-sub"><span id="kpi-manual-hours">148h</span> vs 2h</div>
                    <div class="kpi-explanation">
                        <strong>Manual:</strong> 1.111 x <span class="dynamic-min">8</span> min = <span id="kpi-manual-hours-calc">148h</span><br>
                        <strong>Auto:</strong> Ejecuci√≥n Total = 1h 55m
                    </div>
                </div>
                <div class="kpi-card blue">
                    <div class="kpi-label">Ahorro Costo vs Humano</div>
                    <div class="kpi-value"><span id="kpi-cost-percent">99</span>%</div>
                    <div class="kpi-sub"><span id="kpi-unit-cost-mini">$1.735</span> vs $3,6</div>
                    <div class="kpi-explanation">
                        <strong>Manual:</strong> Costo Unitario <span id="kpi-unit-cost-mini-2">$1.735</span><br>
                        <strong>Auto:</strong> $4.000 Totales / 1.111
                    </div>
                </div>
                <div class="kpi-card green">
                    <div class="kpi-label">Costo Total: Humano vs Auto</div>
                    <div class="kpi-value-small"><span id="kpi-total-cost-manual-top">$1.9M</span> vs $4k</div>
                    <div class="kpi-sub">Ahorro Neto: <span id="kpi-net-savings-top">~$1.9 Millones</span></div>
                    <div class="kpi-explanation">
                        <strong>Manual:</strong> 1.111 x <span class="dynamic-unit-cost">$1.735</span><br>
                        <strong>Auto:</strong> Costo API WhatsApp $4.000
                    </div>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">Resultados de Entrega</h2>
            <div class="kpi-grid">
                <div class="kpi-card neutral">
                    <div class="kpi-label">Base Total</div>
                    <div class="kpi-number">1,111</div>
                    <div class="kpi-sub">Registros Procesados</div>
                </div>
                <div class="kpi-card success">
                    <div class="kpi-label">Entregados (Meta)</div>
                    <div class="kpi-number" style="color: var(--color-exito);">930</div>
                    <div class="kpi-sub">83.7% Efectividad</div>
                </div>
                <div class="kpi-card error">
                    <div class="kpi-label">Fallidos</div>
                    <div class="kpi-number" style="color: var(--color-error);">181</div>
                    <div class="kpi-sub">16.3% Sin WhatsApp</div>
                </div>
                <div class="kpi-card info">
                    <div class="kpi-label">Respuestas</div>
                    <div class="kpi-number" style="color: var(--color-info);">589</div>
                    <div class="kpi-sub">63.3% Tasa de respuesta</div>
                </div>
            </div>
        </section>

        <section class="progress-container">
            <h3 style="font-family: 'Outfit', sans-serif; font-size: 1rem; color: var(--color-gris-texto);">Distribuci√≥n de la Base de Datos</h3>
            <div class="progress-bar-wrapper">
                <div class="bar-segment bg-success" style="width: 83.7%;">930 ENVIADOS (84%)</div>
                <div class="bar-segment bg-error" style="width: 16.3%;">181 ERROR (16%)</div>
            </div>
        </section>

        <section>
            <h2 class="section-title">Cronolog√≠a de Ejecuci√≥n</h2>
            <div class="timeline-container">
                <div class="time-item">
                    <div class="time-label">Inicio Proceso</div>
                    <div class="time-value">1:20 PM</div>
                    <span class="time-date-small">5 Feb 2026</span>
                </div>
                <div class="time-item">
                    <div class="time-label">Fin Proceso</div>
                    <div class="time-value">3:15 PM</div>
                    <span class="time-date-small">5 Feb 2026</span>
                </div>
                <div class="time-item">
                    <div class="time-label">Tiempo Total</div>
                    <div class="time-value time-duration">1h 55m</div>
                </div>
                <div class="time-item">
                    <div class="time-label">Corte M√©tricas</div>
                    <div class="time-value">2:00 PM</div>
                    <span class="time-date-small">9 Feb 2026</span>
                </div>
            </div>
        </section>

        <section>
            <h2 class="section-title">An√°lisis Financiero y Operativo</h2>
            
            <div class="cost-container">
                <div class="channel-header" style="color: #64748B;">ESTRUCTURA DE COSTO HUMANO (Base 220 Horas/Mes)</div>
                <div class="triple-grid">
                    <div class="stat-box">
                        <div class="stat-title-small">1. Salario Percibido</div>
                        <div class="stat-value-large">$2.000.000</div>
                        <div class="stat-sub-small">B√°sico + Aux.</div>
                    </div>
                    <div class="separator-col">+</div>
                    <div class="stat-box">
                        <div class="stat-title-small">2. Carga Prestacional + SS</div>
                        <div class="stat-value-large text-orange">$863.086</div>
                        <div class="stat-sub-small">Costos Ocultos</div>
                    </div>
                    <div class="separator-col">=</div>
                    <div class="stat-box highlight">
                        <div class="stat-title-small">3. Costo Real Empresa</div>
                        <div class="stat-value-large">$2.863.086</div>
                        <div class="stat-sub-small">Unitario: <span id="kpi-unit-cost-structure">$1.735</span> /msj</div>
                    </div>
                </div>
            </div>

            <div class="cost-container">
                <div class="channel-header" style="margin-bottom: 15px;">
                    Interpretaci√≥n de Capacidad Operativa <span class="badge-warn">ESCENARIOS INVIABLES</span>
                </div>
                <p style="color: #64748B; margin-bottom: 15px; font-size: 0.9rem;">
                    Para procesar manualmente 1.111 registros se requieren <strong id="scenario-hours-txt">148 horas hombre</strong>.
                </p>
                <div class="capacity-item">
                    <div class="capacity-icon">üë§</div>
                    <div style="font-size: 0.9rem; color: #431407;">
                        Una sola persona habr√≠a tardado <strong id="scenario-months">0,7 meses</strong> dedicados exclusivamente a esta labor.
                    </div>
                </div>
                <div class="capacity-item">
                    <div class="capacity-icon">üë•</div>
                    <div style="font-size: 0.9rem; color: #431407;">
                        Para igualar el tiempo total de operaci√≥n del bot (~2h), se habr√≠an requerido <strong id="scenario-people">77 personas</strong> trabajando simult√°neamente.
                        <span class="calc-detail-people">(<span id="scenario-hours-calc">148h</span> Manuales / 1.92h Bot)</span>
                    </div>
                </div>
            </div>

            <div class="cost-container" style="border: 1px solid #e2e8f0;">
                <div class="section-title" style="border: none; margin-bottom: 10px; padding: 0;">Eficiencia Operativa Final</div>
                
                <div class="comparativa-container">
                    <div class="big-cost red-warn-bg">
                        <span style="font-size: 0.8rem; color: #9A3412; font-weight: bold; text-transform: uppercase;">Costo Unitario Humano</span>
                        <span class="amount" style="color: #C2410C;" id="final-unit-cost">$1.735</span>
                        <div class="calc-detail">
                            ($2.86M / 220h) √∑ 60m √ó <span class="dynamic-min">8</span>m
                        </div>
                        <span style="font-size: 0.75rem; color: #9A3412; display: block; margin-top: 5px;">por transacci√≥n</span>
                    </div>
                    <div style="font-weight: bold; color: #CBD5E1; font-size: 1.2rem;">VS</div>
                    <div class="big-cost green-bg">
                        <span style="font-size: 0.8rem; color: #166534; font-weight: bold; text-transform: uppercase;">Costo Unitario Auto</span>
                        <span class="amount" style="color: #15803d;">$3,6</span>
                        <span style="font-size: 0.75rem; color: #166534;">por transacci√≥n</span>
                    </div>
                </div>

                <div style="margin-top: 25px; padding: 20px; background: #F8FAFC; border-radius: 8px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem;">
                        <span style="color: #64748B;">Costo Total Campa√±a (Factura Real):</span>
                        <span style="font-weight: bold; color: #16A34A;">$4.000 COP</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem; border-bottom: 1px dashed #cbd5e1; padding-bottom: 10px;">
                        <span style="color: #64748B;">Costo Total Estimado (Humano):</span>
                        <span style="font-weight: bold; color: #C2410C;" id="final-total-cost-manual">~$1.927.585 COP</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 15px;">
                        <span style="font-weight: 700; color: #334155;">AHORRO NETO GENERADO:</span>
                        <span style="font-size: 1.5rem; font-weight: 700; color: #16A34A;" id="final-net-savings-bottom">$1.923.585 COP</span>
                    </div>
                </div>
            </div>

        </section>

        <section class="details-grid">
            <div class="detail-card">
                <h2 class="section-title" style="margin-top: 0; border: none; padding: 0;">Observaciones Cr√≠ticas</h2>
                <div class="detail-text">
                    <p style="margin-bottom: 15px;">
                        Se ajust√≥ el conteo de fallos a <strong>181 registros</strong>. La causa reportada es que los n√∫meros telef√≥nicos asociados 
                        no cuentan con una cuenta de WhatsApp activa verificable por Meta en el momento del env√≠o.
                    </p>
                    <div class="alert-box">
                        <strong style="display: block; margin-bottom: 5px;">‚ö†Ô∏è Limitaci√≥n T√©cnica de Meta:</strong>
                        Actualmente, la API de Meta no retorna el listado espec√≠fico de los n√∫meros telef√≥nicos que fallaron (los 181 registros). 
                        Solo se entrega el conteo total de fallos por "usuario no v√°lido".
                    </div>
                </div>
            </div>

            <div class="detail-card">
                <h2 class="section-title" style="margin-top: 0; border: none; padding: 0;">Estado del Informe</h2>
                <div class="detail-text">
                    <p>Este tablero de control refleja los datos capturados hasta la fecha y hora de corte indicadas en la cronolog√≠a.</p>
                    <div class="construction-box">
                        <div class="construction-icon">üöß</div>
                        <div class="construction-text">
                            Este informe est√° en construcci√≥n y sujeto a cambios, ya que a√∫n no ha culminado este proceso operativo.
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section>
             <div class="detail-card" style="text-align: center;">
                <a href="https://docs.google.com/spreadsheets/d/1bqKyb7_ZLq1jir8IRGmtJsUgV_B8m9bCyLxQIgUq8ro/edit?usp=sharing" target="_blank" class="btn-drive">
                    VER DETALLE DE REGISTROS ENVIADOS EN GOOGLE DRIVE
                </a>
             </div>
        </section>

    </div>

    <script>
        // Constantes del sistema para TECNOLOG√çA
        const TOTAL_REGISTROS = 1111;
        const COSTO_REAL_EMPRESA = 2863086;
        const HORAS_LABORALES = 220;
        const HORAS_BOT = 1.92; // 1h 55m
        const COSTO_UNITARIO_BOT = 3.6; // 4000 / 1111
        const COSTO_TOTAL_BOT = 4000;

        // Costo por minuto humano (Fijo)
        const COSTO_MINUTO_HUMANO = (COSTO_REAL_EMPRESA / HORAS_LABORALES) / 60;

        // Formateador de moneda (Pesos Colombianos)
        const formatter = new Intl.NumberFormat('es-CO', {
            style: 'currency',
            currency: 'COP',
            minimumFractionDigits: 0,
            maximumFractionDigits: 0
        });

        // Formateador de millones para las tarjetas superiores (ej: $1.9M)
        const millionsFormatter = (value) => {
            return "$" + (value / 1000000).toFixed(1) + "M";
        };

        function updateDashboard(minutes) {
            // 1. Actualizar visualizaci√≥n de minutos en el slider
            document.getElementById('minutesDisplay').innerText = minutes;
            
            // Actualizar todos los textos que dicen "8m" o "8"
            const dynamicMinLabels = document.querySelectorAll('.dynamic-min');
            dynamicMinLabels.forEach(el => el.innerText = minutes);

            // 2. C√°lculos Matem√°ticos
            
            // Costo Unitario Humano: Minutos * Costo Minuto
            const unitCostHuman = minutes * COSTO_MINUTO_HUMANO;
            
            // Total Horas Humanas: (Registros * Minutos) / 60
            const totalHoursHuman = (TOTAL_REGISTROS * minutes) / 60;
            
            // Costo Total Humano: Registros * Costo Unitario
            const totalCostHuman = TOTAL_REGISTROS * unitCostHuman;
            
            // Ahorro Neto
            const netSavings = totalCostHuman - COSTO_TOTAL_BOT;

            // Porcentajes
            const timeSavingsPercent = ((1 - (HORAS_BOT / totalHoursHuman)) * 100).toFixed(0);
            const costSavingsPercent = ((1 - (COSTO_UNITARIO_BOT / unitCostHuman)) * 100).toFixed(0);

            // Escenarios
            // Meses para 1 persona (Base 220h)
            const scenarioMonths = (totalHoursHuman / HORAS_LABORALES).toFixed(1);
            // Personas para igualar al bot (Total Horas Humanas / Total Horas Bot)
            const scenarioPeople = Math.round(totalHoursHuman / HORAS_BOT);

            // 3. Actualizar el DOM (Interfaz)

            // KPI TOP: Ahorro Tiempo
            document.getElementById('kpi-time-percent').innerText = timeSavingsPercent;
            document.getElementById('kpi-manual-hours').innerText = Math.round(totalHoursHuman) + "h";
            document.getElementById('kpi-manual-hours-calc').innerText = Math.round(totalHoursHuman) + "h";
            document.getElementById('scenario-hours-calc').innerText = Math.round(totalHoursHuman) + "h";
            document.getElementById('scenario-hours-txt').innerText = Math.round(totalHoursHuman) + " horas hombre";

            // KPI TOP: Ahorro Costo
            document.getElementById('kpi-cost-percent').innerText = costSavingsPercent;
            document.getElementById('kpi-unit-cost-mini').innerText = formatter.format(unitCostHuman); 
            document.getElementById('kpi-unit-cost-mini-2').innerText = formatter.format(unitCostHuman);

            // KPI TOP: Costo Total (Resumido)
            document.getElementById('kpi-total-cost-manual-top').innerText = millionsFormatter(totalCostHuman); // Ej: $1.9M
            document.getElementById('kpi-net-savings-top').innerText = "~" + millionsFormatter(netSavings) + "illones";
            
            // Textos de f√≥rmula din√°mica
            const dynamicUnitLabels = document.querySelectorAll('.dynamic-unit-cost');
            dynamicUnitLabels.forEach(el => el.innerText = formatter.format(unitCostHuman));

            // Estructura de Costos
            document.getElementById('kpi-unit-cost-structure').innerText = formatter.format(unitCostHuman);

            // Escenarios Inviables
            document.getElementById('scenario-months').innerText = scenarioMonths.replace('.', ',') + " meses";
            document.getElementById('scenario-people').innerText = scenarioPeople + " personas";

            // Comparativa Final (Detallada)
            document.getElementById('final-unit-cost').innerText = formatter.format(unitCostHuman);
            document.getElementById('final-total-cost-manual').innerText = formatter.format(totalCostHuman); // Cifra completa
            document.getElementById('final-net-savings-bottom').innerText = formatter.format(netSavings); // Cifra completa
        }
    </script>
</body>
</html>